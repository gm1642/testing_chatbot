from unstructured.partition.image import partition_image
import requests

# Use partition_image with the temporary file
elements = partition_image("temp_img.jpg")
import json
from unstructured.staging.label_studio import stage_for_label_studio

label_studio_data = stage_for_label_studio(elements, text_field="my_text", id_field="my_id")

# The resulting JSON file is ready to be uploaded to LabelStudio
with open("label_studio.json", "w") as f:
    json.dump(label_studio_data, f, indent=4)